<header>
    <nav>
        <div class="nav-logo">
            <a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a>
            {{ if (and .Site.Params.socialNavbar (not .IsHome)) }}
                <div class="nav-social">
                    {{ partial "social" . }}
                </div>
            {{ end }}
            <span class="md:hidden ml-4 w-4">
                {{/*  Blank list item to reserve space for theme toggle button in small screen devices  */}}
            </span>
        </div>
        <div class="nav-menu">
            <ul class="nav-menu-list">
                {{ $currentPage := . }}
                {{ range .Site.Menus.main }}
                    {{ if .HasChildren }}
                        {{/*  <li class='{{ if $currentPage.HasMenuCurrent "main" . }}active{{ end }}'>
                            <a class="text-inherit" href="#">
                                {{ .Pre }}{{ .Name }}
                            </a>
                        </li>
                        <li>
                            <ul class="sub-menu">
                                {{ range .Children }}
                                    <li class='{{ if $currentPage.IsMenuCurrent "main" . }}active{{ end }}'>
                                        <a class="text-inherit" href="{{ .URL }}">{{ .Name }}</a>
                                    </li>
                                {{ end }}
                            </ul>
                        </li>  */}}
                    {{ else }}
                        <li>
                            <a href="{{ safeURL .URL }}" {{ if (or (strings.HasPrefix .URL "http") (strings.HasSuffix .URL ".pdf")) }} target="_blank" rel="external nofollow noopener"{{ end }} class="nav-link {{ if eq $currentPage.RelPermalink .URL }}text-theme{{ end }}">
                                {{ .Name }}
                            </a>
                        </li>
                    {{ end }}
                {{ end }}
            </ul>
            <button id="theme-toggle" onclick="toggleTheme()">
                <span class="icon-sun" title="light theme">
                    {{ partial "svg" "fas fa-sun" }}
                </span>
                <span class="icon-moon" title="dark theme">
                    {{ partial "svg" "fas fa-moon" }}
                </span>
            </button>
        </div>
    </nav>
</header>
